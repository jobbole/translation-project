---
translator: http://www.jobbole.com/members/hearingdog/
reviewer: http://www.jobbole.com/members/hanxiaomax/
via: https://medium.freecodecamp.org/how-to-become-a-git-expert-e7c38bf54826
---

# å­¦ä¼šè¿™ä¸¤ä»¶äº‹ï¼Œè®©ä½ æˆä¸º Git è€å¸æœº

# How to become a Git expert

![img](https://cdn-images-1.medium.com/max/2000/0*tJq8RS_Uv3R9s56E)

â€œtime-lapse photography of man standing beside road and bridge during daytimeâ€ by [Ahsan Avi](https://unsplash.com/@aviatephotography?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)

I made a mistake in my commit, how do I fix it ?

æˆ‘åœ¨æäº¤ä¸­çŠ¯äº†ä¸ªé”™è¯¯ï¼Œæˆ‘å¦‚ä½•ä¿®æ­£å®ƒï¼Ÿ

My commit history is a mess, how do I make it neater?

æˆ‘çš„æäº¤å†å²ä¸€å›¢ç³Ÿï¼Œæˆ‘è¯¥å¦‚ä½•è®©å®ƒæ›´æ•´æ´ï¼Ÿ

If you have ever had the above questions, then this post is for you. This post covers a list of topics which will make you a Git expert.

å¦‚æœä½ æ›¾ç»æœ‰ä¸Šè¿°é—®é¢˜ï¼Œé‚£ä¹ˆè¿™ç¯‡æ–‡ç« å¾ˆé€‚åˆä½ ã€‚è¿™ç¯‡æ–‡ç« ä»‹ç»äº†ä¸€ä¸ªè®©ä½ æˆä¸º Git è€å¸æœºçš„æ¸…å•ã€‚

If you do not know Git basics, [click here](https://medium.freecodecamp.org/what-is-git-and-how-to-use-it-c341b049ae61) to check out my blog on Git basics. It is necessary that you know basics of Git to make the best use of this article.

### I made a mistake in my commit. What should I do?

### æˆ‘åœ¨æäº¤ä¸­çŠ¯äº†ä¸ªé”™è¯¯ï¼Œæˆ‘è¯¥æ€ä¹ˆåŠï¼Ÿ

![img](https://cdn-images-1.medium.com/max/2000/0*2LM6Xn-MsSuV5ZKB)

â€œbroken ceramic plate on floorâ€ by [chuttersnap](https://unsplash.com/@chuttersnap?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)

#### Scenario 1

#### æƒ…æ™¯ 1

Letâ€™s say that you have committed a bunch of files and realised that the commit message you entered is actually not clear. Now you want to change the commit message. In order to do this you can use `git commit --amend`

å‡è®¾ä½ å·²ç»æäº¤äº†ä¸€å †æ–‡ä»¶ï¼Œå¹¶å‘ç°è¾“å…¥çš„æäº¤ä¿¡æ¯å®é™…ä¸Šå¹¶ä¸æ¸…æ™°ã€‚ç°åœ¨ä½ è¦æ›´æ”¹æäº¤æ¶ˆæ¯ã€‚ä¸ºæ­¤ï¼Œä½ å¯ä»¥ä½¿ç”¨ `git commit --amend`ï¼š


```shell
git commit --amend -m â€œNew commit messageâ€
```

#### Scenario 2

#### åœºæ™¯ 2

Letâ€™s say that you wanted to commit six files but, by mistake, you end up committing only five files. You may think that you can create a new commit and add the 6th file to that commit.

å‡è®¾ä½ è¦æäº¤å…­ä¸ªæ–‡ä»¶ï¼Œä½†ä½ æœ€ç»ˆé”™è¯¯åœ°åªæäº¤äº†äº”ä¸ªæ–‡ä»¶ã€‚ä½ å¯èƒ½è®¤ä¸ºå¯ä»¥åˆ›å»ºæ–°æäº¤å¹¶å°†ç¬¬å…­ä¸ªæ–‡ä»¶æ·»åŠ åˆ°è¯¥æäº¤ã€‚

There is nothing wrong with this approach. But, to maintain a neat commit history, wouldnâ€™t it be nicer if you could actually somehow add this file to your previous commit itself? This can be done through `git commit --amend` as well:

è¿™ç§æ–¹æ³•æ²¡é”™ã€‚ä½†æ˜¯ï¼Œä¸ºäº†ä¿æŒæ•´æ´çš„æäº¤å†å²ï¼Œå¦‚æœä½ å¯ä»¥ä»¥æŸç§æ–¹å¼å°†æ­¤æ–‡ä»¶åŠ å…¥åˆ°ä½ ä¹‹å‰çš„æäº¤æœ¬èº«ï¼Œé‚£å²‚ä¸æ˜¯æ›´å¥½ï¼Ÿè¿™ä¹Ÿå¯ä»¥é€šè¿‡ `git commit --amend` å®Œæˆï¼š

```shell
git add file6
git commit --amend --no-edit
```

`--no-edit` means that the commit message does not change.

`--no-edit` è¡¨ç¤ºæäº¤ä¿¡æ¯ä¸ä¼šæ›´æ”¹ã€‚

#### Scenario 3

#### åœºæ™¯ 3

Whenever you do a commit in Git, the commit has an author name and author email tied to it. Generally, when you set up Git for the first time, you set up the author name and email. You donâ€™t need to worry about the author details for every commit.

æ— è®ºä½ ä½•æ—¶åœ¨ Git è¿›è¡Œæäº¤ï¼Œæäº¤éƒ½ä¼šé™„ä¸Šä½œè€…åç§°å’Œä½œè€…ç”µå­é‚®ç®±ã€‚é€šå¸¸ï¼Œå½“ä½ ç¬¬ä¸€æ¬¡é…ç½® Git æ—¶ï¼Œå°±éœ€è¦è®¾ç½®ä½œè€…å’Œç”µå­é‚®ç®±ã€‚ä½ æ— éœ€æ‹…å¿ƒæ¯æ¬¡æäº¤çš„ä½œè€…è¯¦ç»†ä¿¡æ¯ã€‚

That said, itâ€™s possible that for a particular project you want to use a different email ID. You need to configure the email id for that project with the command:

ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºç‰¹å®šé¡¹ç›®ï¼Œä½ å¯èƒ½å¸Œæœ›ä½¿ç”¨ä¸åŒçš„ç”µå­é‚®ç®± IDã€‚ä½ éœ€è¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸ºè¯¥é¡¹ç›®é…ç½®ç”µå­é‚®ç®± IDï¼š

```
git config user.email â€œyour email idâ€
```

Letâ€™s say that you forgot to configure the email and already did your first commit. `Amend` can be used to change the author of your previous commit as well. The author of the commit can be changed using the following command:

å‡è®¾ä½ å¿˜è®°é…ç½®ç”µå­é‚®ç®±ï¼Œå¹¶ä¸”å·²ç»å®Œæˆäº†ç¬¬ä¸€æ¬¡æäº¤ã€‚`amend` å‘½ä»¤ä¹Ÿå¯ä»¥ç”¨äºæ›´æ”¹å…ˆå‰æäº¤çš„ä½œè€…æ¶ˆæ¯ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ›´æ”¹æäº¤çš„ä½œè€…ä¿¡æ¯ï¼š

```shell
git commit --amend --author "Author Name <Author Email>"
```

#### **Point to note**

#### __æ³¨æ„äº‹é¡¹__

Use the `amend` command **only** in your local repository. Using `amend` for the remote repository can create a lot of confusion.

åº”è¯¥__ä»…åœ¨__æœ¬åœ°ä»“åº“ä½¿ç”¨ `amend` å‘½ä»¤ã€‚åœ¨è¿œç«¯ä»“åº“ä½¿ç”¨ `amend` å‘½ä»¤ä¼šåˆ¶é€ å¤§é‡æ··ä¹±ã€‚

### My Commit history is a mess. How do I handle it?

### æˆ‘çš„æäº¤å†å²ä¸€å›¢ç³Ÿï¼Œæˆ‘è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ

Letâ€™s say that you are working on a piece of code. You know that the code is going to take approximately ten days to complete. Within those ten days, the other developers will also be committing code to the remote repository.

å‡è®¾ä½ æ­£åœ¨å¤„ç†ä¸€æ®µä»£ç ã€‚ä½ çŸ¥é“ä»£ç å¤§çº¦éœ€è¦åå¤©å®Œæˆã€‚åœ¨è¿™åå¤©å†…ï¼Œå…¶ä»–å¼€å‘äººå‘˜ä¹Ÿå°†æäº¤ä»£ç åˆ°è¿œç¨‹ä»“åº“ã€‚

It is a **good practise** to keep your local repository code up-to-date with the code in the remote repository. This avoids a lot of merge conflicts later when you raise a pull request. So you decide that you will pull the changes from the remote repository once every two days.

å°†æœ¬åœ°ä»“åº“ä»£ç ä¸è¿œç¨‹ä»“åº“ä»£ç ä¿æŒåŒæ­¥æ˜¯ä¸ª__å¾ˆå¥½çš„åšæ³•__ã€‚è¿™åœ¨ä½ æ‹‰å–è¯·æ±‚æ—¶ä¼šé¿å…è®¸å¤šåˆå¹¶å†²çªçš„æ“ä½œã€‚å› æ­¤ï¼Œä½ åº”è¯¥æ¯ä¸¤å¤©ä»è¿œç¨‹ä»“åº“ä¸­æ‹‰å–ä¸€ä¸ªå˜æ›´ã€‚

Every time you pull the code from the remote repository to the local repository a new merge commit is created in your local repository. This means that your local commit history is going to have a lot of merge commits which can make things look confusing to the reviewer.

æ¯æ¬¡å°†ä»£ç ä»è¿œç¨‹ä»“åº“æ‹‰å–åˆ°æœ¬åœ°ä»“åº“æ—¶ï¼Œéƒ½ä¼šåœ¨æœ¬åœ°æ“ä½œä¸­åˆ›å»ºæ–°çš„åˆå¹¶æäº¤ã€‚è¿™æ„å‘³ç€ä½ çš„æœ¬åœ°å†å²æäº¤è®°å½•ä¼šæœ‰å¤§é‡çš„åˆå¹¶æäº¤ï¼Œè¿™ä¼šè®©å®¡é˜…äººå‘˜å¤´å¤§ã€‚

![img](https://cdn-images-1.medium.com/max/1600/1*RQXlwyuSpobtp2y1bOMwiw.jpeg)

Here is how the commit history would look in your local repository.

ä¸Šé¢æ˜¯å†å²æäº¤è®°å½•åœ¨æœ¬åœ°ä»“åº“ä¸­çš„æ˜¾ç¤ºæ–¹å¼ã€‚

#### How do you make the commit history look neater?

#### å¦‚ä½•è®©å†å²æäº¤è®°å½•çœ‹èµ·æ¥æ›´æ•´æ´ï¼Ÿ

This is where **rebase** comes to the rescue.

è¿™å°±éœ€è¦ç”¨åˆ° __rebase__ äº†ã€‚

#### What is rebasing?

#### ä»€ä¹ˆæ˜¯å˜åŸºï¼ˆrebaseï¼‰ï¼Ÿ

Let me explain this through an example.

ä¸¾ä¸ªğŸŒ°ã€‚

![img](https://cdn-images-1.medium.com/max/1600/1*LjOJOe-Srwx5-nflgWWs6A.jpeg)

This diagram shows the commits in the release branch and your feature branch

æ­¤å›¾æ˜¾ç¤ºäº†å‘å¸ƒï¼ˆreleaseï¼‰åˆ†æ”¯å’ŒåŠŸèƒ½ï¼ˆfeatureï¼‰åˆ†æ”¯ä¸­çš„æäº¤ã€‚

1. The Release branch has three commits: Rcommit1, Rcommit2, and Rcommit3.
2. You created your Feature branch from the Release branch when it had only one commit, which is Rcommit1.
3. You have added two commits to the Feature branch. They are Fcommit1 and Fcommit2.
4. Your goal is to get the commits from the Release branch into your Feature branch.
5. You are going to use rebase to do this.
6. Let the name of the Release branch be **release** and the name of the Feature branch be **feature**.
7. Rebasing can be done using the following commands:

1. å‘å¸ƒåˆ†æ”¯æœ‰ä¸‰ä¸ªæäº¤ï¼šRcommit1ã€Rcommit2 å’Œ Rcommit3ã€‚
2. ä½ åœ¨å‘å¸ƒåˆ†æ”¯ä¸­ä»…æœ‰ä¸€ä¸ªæäº¤ï¼ˆå³ Rcommit1ï¼‰æ—¶ï¼Œåˆ›å»ºäº†åŠŸèƒ½åˆ†æ”¯ã€‚
3. ä½ å·²å‘åŠŸèƒ½åˆ†æ”¯æ·»åŠ äº†ä¸¤ä¸ªæäº¤ã€‚å®ƒä»¬æ˜¯ Fcommit1 å’Œ Fcommit2ã€‚
4. ä½ å¸Œæœ›ä»å‘å¸ƒåˆ†æ”¯æäº¤åˆ°åŠŸèƒ½åˆ†æ”¯ä¸­ã€‚
5. ä½ å°†å¯ä»¥ä½¿ç”¨å˜åŸºæ¥å®Œæˆè¯¥æ“ä½œã€‚
6. è®©å‘å¸ƒåˆ†æ”¯å‘½åä¸º __release__ï¼Œè®©åŠŸèƒ½åˆ†æ”¯å‘½åä¸º __feature__ã€‚
7. å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå˜åŸºï¼š

```shell
git checkout feature
git rebase release
```

#### Rebasing

#### å˜åŸº

While rebasing, your goal is to ensure the Feature branch gets the latest code from the Release branch.

å½“æ‰§è¡Œå˜åŸºæ—¶ï¼Œä½ çš„ç›®æ ‡æ˜¯ç¡®ä¿åŠŸèƒ½åˆ†æ”¯ä»å‘å¸ƒåˆ†æ”¯è·å–æœ€æ–°ä»£ç ã€‚

Rebasing tries to add each commit, one by one, and checks for conflicts. Does that sound confusing?

å˜åŸºå‘½ä»¤å°è¯•é€ä¸ªæ·»åŠ æ¯ä¸ªæäº¤ï¼Œå¹¶æ£€æŸ¥å†²çªã€‚è¿™å¬èµ·æ¥æ˜¯ä¸æ˜¯æœ‰ç‚¹å¤´å¤§ï¼Ÿ

Let me explain with the help of a diagram.

è®©æˆ‘ç”»ä¸ªå›¾å¸®åŠ©ç†è§£ã€‚

This shows what rebasing actually does internally:

è¿™æ˜¾ç¤ºäº†å˜åŸºå†…éƒ¨å®é™…åšçš„äº‹æƒ…ï¼š

![img](https://cdn-images-1.medium.com/max/1600/1*hnfKIiDvHzoHeRVNGw8r1Q.jpeg)

#### Step 1

#### ç¬¬ 1 æ­¥

1. The moment you run the command, the Feature branch is pointed to the head of Release branch.
2. Now the Feature branch has three commits: Rcommit1, Rcommit2, and Rcommit3.
3. You may be wondering what happened to Fcommit1 and Fcommit2.
4. The commits are still there and will be used in the steps below.

1. è¿è¡Œè¯¥å‘½ä»¤çš„é‚£ä¸€åˆ»ï¼ŒåŠŸèƒ½åˆ†æ”¯æŒ‡å‘å‘å¸ƒåˆ†æ”¯çš„å¤´éƒ¨ã€‚
2. ç°åœ¨ï¼ŒåŠŸèƒ½åˆ†æ”¯æœ‰ä¸‰ä¸ªæäº¤ï¼ŒRcommit1ã€Rcommit2 å’Œ Rcommit3ã€‚
3. ä½ å¯èƒ½æƒ³çŸ¥é“ Rcommit1 å’Œ Rcommit2 å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ
4. æäº¤ä»ç„¶å­˜åœ¨ï¼Œå°†åœ¨ä¸‹é¢æ­¥éª¤ä¸­ä½¿ç”¨ã€‚

#### **Step 2**

#### ç¬¬ 2 æ­¥

1. Now Git tries to add Fcommit1 to the Feature branch.
2. If there is no conflict Fcommit1 is added after Rcommit3
3. If there is a conflict, Git will notify you, and you will have to resolve the conflict manually. After the conflict is resolved use the following commands to continue rebasing

1. ç°åœ¨ Git å°è¯•å°† Fcommit1 æ·»åŠ åˆ°åŠŸèƒ½åˆ†æ”¯ä¸Šã€‚
2. å¦‚æœæ²¡æœ‰å†²çªï¼Œåˆ™åœ¨ Rcommit3 ä¹‹åæ·»åŠ  Fcommit1ï¼›
3. å¦‚æœå­˜åœ¨å†²çªï¼ŒGit ä¼šé€šçŸ¥ä½ ï¼Œä½ å¿…é¡»æ‰‹åŠ¨è§£å†³å†²çªã€‚è§£å†³å†²çªåï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç»§ç»­å˜åŸºï¼š

```shell
git add fixedfile
git rebase --continue
```

#### **Step 3**

#### ç¬¬ 3 æ­¥

1. Once Fcommit1 is added, Git will try to add Fcommit2.
2. Again, if there is no conflict Fcommit2 is added after Fcommit1 and the rebase is successful.
3. If there is a conflict, Git will notify you, and you will have to resolve it manually. Use the same commands mentioned in Step 2 after resolving conflicts
4. After the entire rebase is done, you will notice that the Feature branch has Rcommit1, Rcommit2, Rcommit3, Fcommit1, and Fcommit2.

1. ä¸€æ—¦æ·»åŠ äº† Fcommit1ï¼ŒGit å°†å°è¯•æ·»åŠ  Fcommit2ã€‚
2. åŒæ ·ï¼Œå¦‚æœæ²¡æœ‰å†²çªï¼Œåˆ™åœ¨ Fcommit1 ä¹‹åæ·»åŠ  Fcommit2ï¼Œå¹¶ä¸”å˜åŸºæˆåŠŸã€‚
3. å¦‚æœå­˜åœ¨å†²çªï¼ŒGit ä¼šé€šçŸ¥ä½ ï¼Œä½ å¿…é¡»æ‰‹åŠ¨è§£å†³ã€‚è§£å†³å†²çªåï¼Œä½¿ç”¨ç¬¬ 2 æ­¥æåˆ°çš„ç›¸åŒå‘½ä»¤ã€‚
4. æ•´ä¸ªå˜åŸºå®Œæˆåï¼Œä½ ä¼šå‘ç°åŠŸèƒ½åˆ†æ”¯æœ‰ Rcommit1ã€Rcommit2ã€Rcommit3ã€Fcommit1 å’Œ Fcommit2ã€‚

#### Points to note

#### __æ³¨æ„äº‹é¡¹__

1. Both Rebase and Merge are useful in Git. One is not better than the other.
2. In the case of a merge you will have a merge commit. In the case of a rebase there is no extra commit like a merge commit.
3. One best practise is to use the commands at different points. Use rebase when you are updating your local code repository with the latest code from the remote repository. Use merge when you are dealing with pull requests to merge the Feature branch back with the Release or Master branch.
4. Using Rebase alters the commit history ( it makes it neater) . But that being said, altering the commit history has itâ€™s risks. So ensure you never use rebase on a code that is there in the remote repository. Always use rebase only to alter the commit history of your local repo code.
5. If rebase is done to a remote repository it can create a lot of confusion since other developers will not recognise the new history.
6. Also if rebase is done on the remote repository, it can create issues when other developers try to pull the latest code from remote repository. So I repeat again, always use rebase only for the local repository ğŸ˜ƒ

1. å˜åŸºå’Œåˆå¹¶ï¼ˆmergeï¼‰åœ¨ Git ä¸­éƒ½å¾ˆæœ‰ç”¨ã€‚ä¸¤ç§å¹¶æ— ä¼˜åŠ£ä¹‹åˆ†ã€‚
2. åœ¨åˆå¹¶çš„æƒ…å†µä¸‹ï¼Œä½ å°†æœ‰ä¸ªåˆå¹¶æäº¤ã€‚åœ¨å˜åŸºçš„æƒ…å†µä¸‹ï¼Œä¸ä¼šåƒåˆå¹¶æäº¤é‚£æ ·æœ‰é¢å¤–çš„æäº¤ã€‚
3. ä¸€ç§æœ€ä½³çš„å®è·µæ˜¯ä¸€åˆ†ä¸ºäºŒã€‚ä½¿ç”¨è¿œç«¯ä»“åº“ä¸­çš„æœ€æ–°ä»£ç æ›´æ–°æœ¬åœ°ä»“åº“æ—¶ï¼Œè¯·ä½¿ç”¨å˜åŸºã€‚åœ¨å¤„ç†æ‹‰å–è¯·æ±‚ï¼Œä»¥å°†åŠŸèƒ½åˆ†æ”¯å’Œå‘å¸ƒåˆ†æ”¯æˆ–ä¸»åˆ†æ”¯åˆå¹¶æ—¶ï¼Œè¯·ä½¿ç”¨åˆå¹¶ã€‚
4. ä½¿ç”¨å˜åŸºä¼šæ›´æ”¹å†å²æäº¤è®°å½•ï¼ˆä½¿å…¶æ›´æ•´æ´ï¼‰ã€‚ä½†è¯è™½å¦‚æ­¤ï¼Œæ”¹å˜å†å²æäº¤å­˜åœ¨é£é™©ã€‚å› æ­¤ï¼Œè¯·ç¡®ä¿æ°¸è¿œä¸è¦å¯¹è¿œç¨‹å­˜å‚¨ä»“åº“çš„ä»£ç ä½¿ç”¨å˜åŸºã€‚å§‹ç»ˆä»…å¯¹æœ¬åœ°ä»“åº“ä»£ç ä½¿ç”¨å˜åŸºï¼Œæ¥æ›´æ”¹å†å²æäº¤è®°å½•ã€‚
5. å¦‚æœå¯¹è¿œç«¯ä»“åº“è¿›è¡Œå˜åŸºï¼Œä¼šåˆ¶é€ è®¸å¤šæ··ä¹±ï¼Œå› ä¸ºå…¶ä»–å¼€å‘äººå‘˜æ— æ³•è¯†åˆ«æ–°çš„å†å²è®°å½•ã€‚
6. æ­¤å¤–ï¼Œå¦‚æœåœ¨è¿œç«¯ä»“åº“ä¸Šå®Œæˆå˜åŸºï¼Œåˆ™å½“å…¶ä»–å¼€å‘äººå‘˜å°è¯•ä»è¿œç«¯ä»“åº“ä¸­æ‹‰å–æœ€æ–°ä»£ç æ—¶ï¼Œå°±å¯èƒ½ä¼šå‡ºé—®é¢˜ã€‚æ‰€ä»¥ï¼Œæˆ‘å†é‡ç”³ä¸€éï¼Œå˜åŸºæ€»æ˜¯ä»…åœ¨æœ¬åœ°ä»“åº“ä¸­è¿›è¡Œã€‚ğŸ˜ƒ

### Congrats

### æ­å–œ

You are now a Git expert ğŸ˜ƒ

ä½ ç°åœ¨æ˜¯ä¸ª Git è€å¸æœºäº†ã€‚ğŸ˜ƒ

In this post you have learnt about:

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œä½ äº†è§£åˆ°ï¼š

- amending commits
- rebase

- ä¿®æ”¹æäº¤è®°å½•
- å˜åŸº

Both of these are very useful concepts. Go explore the world of Git to learn even more.

è¿™ä¸¤ä¸ªéƒ½æ˜¯éå¸¸å®ç”¨çš„æ¦‚å¿µã€‚æ¢ç´¢ Git çš„ä¸–ç•Œï¼Œç»§ç»­å­¦ä¹ å§ã€‚
